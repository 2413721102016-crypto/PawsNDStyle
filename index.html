<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Your Paw-sona üêæ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* Define custom colors/classes for Tailwind configuration */
        :root {
            --coral-button: #FF6B6B; /* A vibrant coral */
        }
        
        .header-bar {
            background-color: #fff;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #eee;
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 900;
            color: var(--coral-button);
        }

        .nav-link {
            padding: 0.5rem 1rem;
            margin: 0 0.5rem;
            color: #4a4a4a;
            transition: color 0.2s, border-color 0.2s;
        }

        .nav-link:hover {
            color: var(--coral-button);
            border-color: var(--coral-button);
        }

        main {
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align content to the top */
            min-height: calc(100vh - 120px); /* Adjust based on header/footer height */
            padding: 2rem 1rem;
            background-color: #f7f7f7;
        }

        .quiz-card {
            background-color: #ffffff;
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
            padding: 2.5rem;
            max-width: 600px;
            width: 100%;
        }
        
        /* Custom Tailwind class color definitions */
        .text-coral-button {
            color: var(--coral-button);
        }

        .btn-primary {
            background-color: var(--coral-button);
            color: white;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            transition: background-color 0.2s;
        }

        .btn-primary:hover:not(:disabled) {
            background-color: #E05858; /* Slightly darker coral */
        }
        
        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn-secondary {
            background-color: #f0f0f0;
            color: #4a4a4a;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            transition: background-color 0.2s;
        }

        .btn-secondary:hover {
            background-color: #e5e5e5;
        }

        .progress-bar {
            height: 8px;
            background-color: #e5e5e5;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--coral-button);
            width: 0%; /* Controlled by JS */
            transition: width 0.3s ease-in-out;
        }
        
        /* Option Group Styling */
        .option-group button {
            display: block;
            width: 100%;
            text-align: left;
            padding: 1rem;
            margin-bottom: 0.75rem;
            border: 2px solid #e0e0e0;
            border-radius: 0.5rem;
            background-color: #fff;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: border-color 0.2s, background-color 0.2s;
        }
        
        .option-group button:hover {
            border-color: #FFB3B3;
        }
        
        .option-group button.selected {
            background-color: #FFF3F3; /* Light pink background */
            border-color: var(--coral-button);
            font-weight: bold;
        }
    </style>
</head>

<body>

    <header class="header-bar flex justify-between items-center">
        <div class="logo">Paws & Style üêæ</div>
        <nav class="hidden md:flex">
            <a href="#" class="nav-link">Clothing</a>
            <a href="#" class="nav-link">Offers</a>
            <a href="#" class="nav-link font-extrabold border-b-2 border-coral-button">Find Your Paw-sona</a>
            <a href="#" class="nav-link">Paw-sitive Perks</a>
        </nav>
        <div class="md:hidden text-lg">‚ò∞</div>
    </header>

    <main>
        <section id="intro-card" class="quiz-card text-center">
            <h1 class="text-3xl font-extrabold text-coral-button mb-3">Find Your Paw-sona üêæ</h1>
            <p class="text-xl text-gray-700 mb-6 font-semibold">3 minutes, 7 fun Qs ‚Äî discover your pet's signature style!</p>
            <p class="mb-8 text-gray-600">This quick style quiz helps match your pet's unique personality to their perfect
                wardrobe. Let's find their true style!</p>
            <button id="start-quiz-btn" class="btn-primary">Start Quiz ‚Üí</button>
        </section>

        <section id="quiz-card" class="quiz-card hidden">
            <div class="flex justify-between items-center mb-4">
                <span id="progress-text" class="text-sm font-bold text-coral-button">Q 1 / 7</span>
                <span id="progress-percent" class="text-sm text-gray-500">0% Complete</span>
            </div>
            <div class="progress-bar">
                <div id="progress-bar-fill" class="progress-fill"></div>
            </div>

            <div class="min-h-[300px]">
                <h3 id="question-text" class="text-xl font-bold mb-6"></h3>
                <div id="options-container" class="option-group">
                    </div>
            </div>

            <div class="flex justify-between mt-8 gap-4">
                <button id="back-btn" class="btn-secondary w-1/3 hidden" disabled>‚Üê Back</button>
                <button id="next-btn" class="btn-primary w-2/3" disabled>Next Question ‚Üí</button>
            </div>
        </section>

        <section id="result-card" class="quiz-card hidden">
            <div id="result-content">
                </div>

            <div id="email-input-group" class="mt-8 p-6 border border-gray-200 rounded-xl">
                <label class="text-base font-semibold block mb-2">Send this look to my inbox & get 10% Off</label>
                <div id="email-message" class="text-sm text-red-500 mb-2"></div>
                <input type="email" id="email-input" placeholder="Enter your email" class="p-3 border border-gray-300 rounded-lg w-full mb-3 focus:outline-none focus:ring-2 focus:ring-coral-button">
                <button onclick="claimDiscount()" class="btn-primary">Send & Claim 10%</button>
            </div>
             <button onclick="resetQuiz()" class="btn-secondary w-full mt-4">Start Over</button>
        </section>
    </main>

    <footer class="text-center py-6 text-sm text-gray-500">
        &copy; 2025 Paws & Style üêæ -PetClothing.2413721102016-
    </footer>

    <script>
        // --- 1. Quiz Data ---
        const QUIZ_DATA = [
            {
                question: "What's your pet's favorite weekend activity?",
                options: ["Lounging on the sofa üò¥ (Cozy)", "Chasing balls at the park üèÉ (Sporty)", "Patrolling the neighborhood üïµÔ∏è (Classic)", "Attending a family party üéâ (Dapper)"],
                styles: ["Cozy", "Sporty", "Classic", "Dapper"]
            },
            {
                question: "How does your pet react to a new person?",
                options: ["Cautiously watches from a distance.", "Jumps up excitedly for pets!", "Sniffs them thoroughly, then wags.", "Presents a toy or performs a trick."],
                styles: ["Classic", "Sporty", "Cozy", "Dapper"]
            },
             {
                question: "If your pet were a fabric, what would it be?",
                options: ["Soft, fluffy fleece.", "Durable, breathable canvas.", "Classic denim.", "Shiny velvet or silk."],
                styles: ["Cozy", "Sporty", "Classic", "Dapper"]
            }
            // You would add 4 more questions here for a total of 7
        ];
        
        // --- 2. State Variables ---
        let currentQuestionIndex = 0;
        let selectedAnswers = new Array(QUIZ_DATA.length).fill(null); // Stores the index of the selected option
        
        // --- 3. DOM Element References ---
        const introCard = document.getElementById('intro-card');
        const quizCard = document.getElementById('quiz-card');
        const resultCard = document.getElementById('result-card');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const progressText = document.getElementById('progress-text');
        const progressPercent = document.getElementById('progress-percent');
        const progressBarFill = document.getElementById('progress-bar-fill');
        const nextBtn = document.getElementById('next-btn');
        const backBtn = document.getElementById('back-btn');
        const startQuizBtn = document.getElementById('start-quiz-btn');
        const resultContent = document.getElementById('result-content');
        const emailInput = document.getElementById('email-input');
        const emailMessage = document.getElementById('email-message');


        // --- 4. Core Functions ---
        
        function loadQuestion(index) {
            // Check if we are at the end of the quiz
            if (index >= QUIZ_DATA.length) {
                showResult();
                return;
            }

            currentQuestionIndex = index;
            const qData = QUIZ_DATA[index];

            // Update UI elements
            questionText.textContent = `Q${index + 1}: ${qData.question}`;
            optionsContainer.innerHTML = ''; // Clear previous options
            
            // Generate option buttons
            qData.options.forEach((optionText, optionIndex) => {
                const button = document.createElement('button');
                button.textContent = optionText;
                button.setAttribute('data-index', optionIndex);
                button.onclick = () => selectOption(optionIndex);
                
                // Highlight if already selected
                if (selectedAnswers[index] === optionIndex) {
                    button.classList.add('selected');
                }
                optionsContainer.appendChild(button);
            });
            
            updateProgress();
            updateNavigationButtons();
        }

        function selectOption(optionIndex) {
            selectedAnswers[currentQuestionIndex] = optionIndex;
            
            // Update UI to highlight selection
            Array.from(optionsContainer.children).forEach(btn => {
                btn.classList.remove('selected');
            });
            optionsContainer.children[optionIndex].classList.add('selected');
            
            // Enable Next button since an answer is selected
            nextBtn.disabled = false;
        }

        function updateProgress() {
            const totalQuestions = QUIZ_DATA.length;
            const currentQ = currentQuestionIndex + 1;
            const percent = Math.round((currentQ / totalQuestions) * 100);

            progressText.textContent = `Q ${currentQ} / ${totalQuestions}`;
            progressPercent.textContent = `${percent}% Complete`;
            progressBarFill.style.width = `${percent}%`;
        }

        function updateNavigationButtons() {
            // Back button logic
            if (currentQuestionIndex > 0) {
                backBtn.classList.remove('hidden');
                backBtn.disabled = false;
            } else {
                backBtn.classList.add('hidden');
                backBtn.disabled = true;
            }

            // Next button text and disabled state
            const isLastQuestion = currentQuestionIndex === QUIZ_DATA.length - 1;
            nextBtn.textContent = isLastQuestion ? "View Paw-sona ‚Üí" : "Next Question ‚Üí";
            nextBtn.disabled = selectedAnswers[currentQuestionIndex] === null;
        }
        
        function navigate(direction) {
            if (direction === 'next' && currentQuestionIndex < QUIZ_DATA.length) {
                loadQuestion(currentQuestionIndex + 1);
            } else if (direction === 'back' && currentQuestionIndex > 0) {
                loadQuestion(currentQuestionIndex - 1);
            }
        }

        function calculateResult() {
            const styleCounts = {}; // e.g., { 'Cozy': 2, 'Sporty': 1, ... }
            let maxCount = 0;
            let resultStyle = "Classic"; // Default

            selectedAnswers.forEach((answerIndex, questionIndex) => {
                if (answerIndex !== null) {
                    const style = QUIZ_DATA[questionIndex].styles[answerIndex];
                    styleCounts[style] = (styleCounts[style] || 0) + 1;
                    
                    if (styleCounts[style] > maxCount) {
                        maxCount = styleCounts[style];
                        resultStyle = style;
                    }
                }
            });

            return resultStyle;
        }

        function showResult() {
            const result = calculateResult();
            
            // Hide quiz, show result
            quizCard.classList.add('hidden');
            resultCard.classList.remove('hidden');
            
            let resultHTML = `
                <h2 class="text-3xl font-extrabold text-coral-button mb-4">üéâ Your Paw-sona is the <span class="uppercase">${result}</span>!</h2>
                <p class="text-lg text-gray-700 mb-6">Based on their answers, your pet is ready for the ${result} collection. Here's a summary of their style:</p>
                <div class="p-4 bg-gray-100 rounded-lg">
                    <p class="font-bold">Style Summary:</p>
                    <p class="text-sm">${getStyleDescription(result)}</p>
                </div>
            `;
            
            resultContent.innerHTML = resultHTML;
        }
        
        function getStyleDescription(style) {
            switch(style) {
                case 'Cozy': return "They love comfort, soft beds, and long naps. Their wardrobe needs to be warm, snuggly, and non-restrictive.";
                case 'Sporty': return "An energetic go-getter who needs durable, flexible, and weather-resistant gear for all their adventures.";
                case 'Classic': return "Elegant, well-mannered, and timeless. Stripes, plaid, and simple, high-quality items are their go-to.";
                case 'Dapper': return "The life of the party! They enjoy bows, bandanas, sweaters, and anything that makes a statement.";
                default: return "A perfect blend of all things stylish!";
            }
        }
        
        // --- 5. Event Handlers and Initial Setup ---
        
        // Function to run when "Start Quiz" is clicked
        function startQuiz() {
            introCard.classList.add('hidden');
            quizCard.classList.remove('hidden');
            loadQuestion(0);
        }
        
        // Function to handle the email claim (was an inline onclick, now defined)
        function claimDiscount() {
            const email = emailInput.value.trim();
            emailMessage.textContent = '';
            
            // Basic email validation (prevents runtime error)
            if (email === "") {
                emailMessage.textContent = "Email is required to claim the discount.";
                return;
            }
            if (!email.includes('@') || !email.includes('.')) {
                emailMessage.textContent = "Please enter a valid email address.";
                return;
            }
            
            // Success Message
            emailMessage.textContent = "Success! Check your inbox for your 10% off code. Happy shopping! üéÅ";
            emailMessage.classList.remove('text-red-500');
            emailMessage.classList.add('text-green-600', 'font-bold');
        }
        
        function resetQuiz() {
            currentQuestionIndex = 0;
            selectedAnswers = new Array(QUIZ_DATA.length).fill(null);
            resultCard.classList.add('hidden');
            introCard.classList.remove('hidden');
            emailMessage.textContent = ''; // Clear email message on reset
            emailInput.value = '';
            emailMessage.classList.remove('text-green-600', 'font-bold');
            emailMessage.classList.add('text-red-500'); // Reset to default error color
        }

        // Attach event listeners
        startQuizBtn.addEventListener('click', startQuiz);
        nextBtn.addEventListener('click', () => navigate('next'));
        backBtn.addEventListener('click', () => navigate('back'));
        
        // Initialize the quiz flow (only needed if you remove the start button)
        // loadQuestion(currentQuestionIndex); 

    </script>

</body>

</html>
